{"meta":{"title":"任少鹏的个人博客-Ren ShaoPeng's Personal Website","subtitle":"Ren ShaoPeng's Personal Website","description":null,"author":"鹏","url":"https://renshaopeng.cc","root":"/"},"pages":[{"title":"","date":"2019-09-20T08:08:13.036Z","updated":"2019-09-20T07:58:08.741Z","comments":true,"path":"baidu_verify_gl6PKMoFpz.html","permalink":"https://renshaopeng.cc/baidu_verify_gl6PKMoFpz.html","excerpt":"","text":"gl6PKMoFpz"},{"title":"404 Not Found：该页无法显示","date":"2019-09-26T06:25:54.534Z","updated":"2019-09-26T06:25:54.534Z","comments":false,"path":"/404.html","permalink":"https://renshaopeng.cc//404.html","excerpt":"","text":""},{"title":"关于","date":"2019-09-26T08:20:42.673Z","updated":"2019-09-26T06:25:54.537Z","comments":false,"path":"about/index.html","permalink":"https://renshaopeng.cc/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"书单","date":"2019-09-26T06:25:54.538Z","updated":"2019-09-26T06:25:54.538Z","comments":false,"path":"books/index.html","permalink":"https://renshaopeng.cc/books/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2019-09-26T06:25:54.540Z","updated":"2019-09-26T06:25:54.540Z","comments":false,"path":"repository/index.html","permalink":"https://renshaopeng.cc/repository/index.html","excerpt":"","text":""},{"title":"分类","date":"2019-09-26T06:25:54.539Z","updated":"2019-09-26T06:25:54.539Z","comments":false,"path":"categories/index.html","permalink":"https://renshaopeng.cc/categories/index.html","excerpt":"","text":""},{"title":"友情链接","date":"2019-09-26T06:25:54.539Z","updated":"2019-09-26T06:25:54.539Z","comments":true,"path":"links/index.html","permalink":"https://renshaopeng.cc/links/index.html","excerpt":"","text":""},{"title":"标签","date":"2019-09-26T08:20:57.574Z","updated":"2019-09-26T06:25:54.541Z","comments":false,"path":"tags/index.html","permalink":"https://renshaopeng.cc/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"hexo博客实现文章置顶功能","slug":"hexo博客实现文章置顶功能","date":"2019-09-30T07:24:00.000Z","updated":"2019-09-30T07:45:59.880Z","comments":true,"path":"hexo博客实现文章置顶功能.html","link":"","permalink":"https://renshaopeng.cc/hexo博客实现文章置顶功能.html","excerpt":"","text":"hexo博客实现文章置顶功能，网上关于实现有两种方式第一种通过安装插件的方式实现npm uninstall hexo-generator-index --save npm install hexo-generator-index-pin-top --save 然后在需要置顶的文章的Front-matter中加上top即可--- title: 2019 date: 2019-09-30 16:10:03 top: 10 --- 还可以通过添加代码设置置顶标志打开：/themes/*/layout/_macro/post.ejs不同主题post.ejs的位置可能有区别直接在最前面加入以下代码即可&lt;% if (page.top) { %&gt; &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt; &lt;font color=7D26CD&gt;置顶&lt;/font&gt; &lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt; &lt;% } %&gt; 不过测试过程中虽然实现了文章置顶，但是置顶标志却显示不出来，而且移动端打开文章底部会出现一点小小的bug，就是会显示&lt;% if (page.top) { %&gt; 这一小段代码，不知道问题出在哪里。第二种通过修改Hexo文件夹下的node_modules/hexo-generator-index/lib/generator.js需要添加的代码：posts.data = posts.data.sort(function(a, b) { if(a.top &amp;&amp; b.top) { if(a.top == b.top) return b.date - a.date; else return b.top - a.top; } else if(a.top &amp;&amp; !b.top) { return -1; } else if(!a.top &amp;&amp; b.top) { return 1; } else return b.date - a.date; }); 最终的generator.js内容：&#39;use strict&#39;; const pagination = require(&#39;hexo-pagination&#39;); module.exports = function(locals) { const config = this.config; const posts = locals.posts.sort(config.index_generator.order_by); posts.data = posts.data.sort(function(a, b) { if(a.top &amp;&amp; b.top) { if(a.top == b.top) return b.date - a.date; else return b.top - a.top; } else if(a.top &amp;&amp; !b.top) { return -1; } else if(!a.top &amp;&amp; b.top) { return 1; } else return b.date - a.date; }); const paginationDir = config.pagination_dir || &#39;page&#39;; const path = config.index_generator.path || &#39;&#39;; return pagination(path, posts, { perPage: config.index_generator.per_page, layout: [&#39;index&#39;, &#39;archive&#39;], format: paginationDir + &#39;/%d/&#39;, data: { __index: true } }); }; 使用：在需要置顶的文章添加top属性即可，排序从小到大这种方式也没有问题，我选择使用第二种方法置顶标志的话可以通过添加置顶标签实现，也OK","categories":[{"name":"hexo","slug":"hexo","permalink":"https://renshaopeng.cc/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://renshaopeng.cc/tags/hexo/"}]}]}